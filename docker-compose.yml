version: '3.8'

services:
  test-runner:
    build: .
    image: saucedemo-auth-automation:latest
    container_name: saucedemo-tests
    ports:
      - "8080:8080"  # Expose Allure report server
    volumes:
      - ./allure-results:/app/allure-results  # Share test results with host
      - ./allure-report:/app/allure-report    # Share report with host
    environment:
      - PYTHONUNBUFFERED=1
      - DISPLAY=:99  # For headless browser
    stdin_open: true
    tty: true
